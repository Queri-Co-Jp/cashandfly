<!DOCTYPE html>
<html>
<head>
    <title>Redirecting to CashAndFly...</title>
    <meta charset="UTF-8">
</head>
<body>
    <h1>Redirecting to CashAndFly...</h1>
    <p>Please wait while we redirect you back to the app.</p>
    <p id="debug"></p>

    <script>
        // Get the current URL with all parameters
        const currentUrl = window.location.href;

        // Extract just the query parameters (everything after ?)
        const urlParams = window.location.search;

        // Build proper app URL with custom scheme (MUST have :// not just :)
        const appUrl = "com.cashandfly.app://oauth/callback" + urlParams;

        console.log("Current URL:", currentUrl);
        console.log("App URL:", appUrl);

        // Show debug info with clickable link
        document.getElementById('debug').innerHTML =
            '<strong>Current URL:</strong> ' + currentUrl + '<br><br>' +
            '<strong>App URL:</strong><br>' +
            '<a href="' + appUrl + '" style="word-break: break-all;">' + appUrl + '</a><br><br>' +
            '<button onclick="window.location.href=\'' + appUrl + '\'" style="padding: 20px; font-size: 18px; cursor: pointer;">Click here to open CashAndFly</button>';
    </script>
</body>
</html>
